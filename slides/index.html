<!DOCTYPE html>
<html>
<head>
  <title>Jnoid slides</title>
  <script src="http://usepow.com"></script>
  <script src="http://usepow.com/highlight"></script>
  <script src="http://usepow.com/mobile"></script>
  <script src="http://usepow.com/live"></script>
  <style>
    .slide { font-family:sans-serif; text-align:center; }
    .slide.title { text-align:center; }
    .slide.title .logo { width:50%; height:50%; }
    .slide h1 { font-size:48em; font-weight:normal; }
    .slide h2 { font-size:40em; font-weight:bold; }
    .slide h1, h2 { letter-spacing:-.05em; }
    .slide h1 .logo { height:1.75em; width:2.25em; vertical-align:middle; }
    .slide h1 > button { font-size:1em; }
    .slide a { border:none; color:black; background:#ddd; padding:.25em .5em; border-radius:.25em; }
    .slide code { text-align:left; font-size:20em; font-family:monospace; padding:1em 2em; }
    #demo-iframe { border:6em inset; }
    #animated h1 { margin-top:.25em; }
    #info { text-align:center; }
  </style>
</head>
<body>
  <div id="slides">
    <!-- Здрасьте. -->
    <div class="slide">
      <h1>Здрасьте</h1>
    </div>

    <div class="slide">
      <h1>Джаваскрипт освобожденный</h1>
    </div>

    <!-- Почему плох джиквери. -->
    <div class="slide">
      <h1>Почему не хватает джиквери</h1>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        $("#input").maccaron();
      </code></pre>
    </div>

    <!-- Почему плох бэкбон. -->
    <div class="slide">
      <h1>Почему не хватает бэкбона</h1>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        $("#input").maccaron();
      </code></pre>
    </div>

    <div class="slide">
      <h1>Что же делать?</h1>
    </div>

    <div class="slide">
      <h1>Нужно придумать велосипед!</h1>
    </div>

    <div class="slide">
      <h1>Не нужно придумывать велосипед!</h1>
    </div>

    <!-- <h1>Сигнал.</h1> -->
    <div class="slide">
      <pre><code>
        $("#login").on("click", function (event) {
          value = $(event.target).val();
          if (value.length > 0) {
            $("#notice").text();
          }
        });
      </code></pre>
    </div>

    <div class="slide">
      <pre><code>
        var clickSignal = $("#login").signal("click");
        clickSignal.onValue(function (event) {
          value = $(event.target).val();
          if (value.length > 0) {
            $("#notice").text();
          }
        });
      </code></pre>
    </div>

    <div class="slide">
      <pre><code>
        var clickSignal = $("#login").signal("click");
        var valueSignal = clickSignal.map(function (event) {
          return $(event.target).val();
        });
        var nonEmptyValueSignal = valueSignal.filter(function (value) {
          return value.length > 0;
        });
        nonEmptyValueSignal.onValue(function (value) {
          $("#notice").text(value);
        });
      </code></pre>
    </div>

    <!-- <h1>API.</h1> -->

    <div class="slide">
      <h1>Пофантазируем</h1>
    </div>

    <div class="slide">
      <h1>Конструкторы</h1>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        Signal.unit(); // empty signal
        Signal.unit(10); // signal with immediate value of 10
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        Signal.error(10); // signal with immediate error of 10
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        Signal.fromPromise($.ajax(params));
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        $("#input").signal("keyup");
      </code></pre>
    </div>

    <div class="slide">
      <h1>Преобразования</h1>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        priceValue.map(function(x) {
          return x > 0;
        });
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        priceValue.filter(function(x) {
          return x > 0;
        });
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        voteClick.take(10);
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        healthPoints.takeWhile(function(hp) {
          return hp > 0;
        });
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        username.skipDuplicates();
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        ajaxResponse.recover(function(e) {
          return e.responseText;
        })
      </code></pre>
    </div>

    <div class="slide">
      <h1>Комбинаторы</h1>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        var inc = plusClicks.map(function() { return 1; });
        var dec = minusClicks.map(function() { return -1; });
        var change = plus.merge(minus);
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        var usernameOk = username.map(function(x) {
          return x.length > 0;
        })
        username.zip(usernameOk)
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        password.zipWith(passwordConfirmation,
                         function(l, r) { return l == r; });
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        usernameOk.and(passwordOk);
        drivingLicensePresent.or(hasCar.not());
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        ajaxInProcess.takeUntil(ajaxResponse);
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        username.debounce(500);
      </code></pre>
    </div>

    <div class="slide">
      <h1>Хардкор</h1>
    </div>

    <div class="slide">
      <h1>flatMap</h1>
    </div>

    <div class="slide">
      <pre><code class="ruby">
        users.flat_map { |u| u.comments }
      </code></pre>
    </div>


    <div class="slide">
      <pre><code class="javascript">
        listenTo.flatMap(function(target) {
          if (target.source == "dom") {
            return Jnoid.fromDOM($(target.object), "click");
          } else if (target.source == "ajax") {
            return Jnoid.fromPromise($.ajax(target.object));
          } else {
            return Jnoid.unit();
          }
        }
      </code></pre>
    </div>

    <div class="slide">
      <pre><code class="javascript">
        requests = usernames.map(function(u) {
          return { url: "/check-username/" + u; }
        });
        requests.flatMapLatest($.ajax);
      </code></pre>
    </div>

    <!-- <h1>Пример.</h1> -->
    <div class="slide">
      <h1>Пример</h1>
    </div>

    <!-- <h1>Стало проще?</h1> -->
    <div class="slide">
      <h1>Стало проще?</h1>
    </div>

    <!-- <h1>Гитхаб</h1> -->
    <div class="slide">
      <p style="text-align: center; text-decoration: underline;">http://it-vecherka.github.io/jnoid</p>
    </div>
  </div>
</body>
</html>
